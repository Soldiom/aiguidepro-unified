# Environment Variables Configuration

## Required Variables

### Database
```bash
DATABASE_URL=mysql://user:password@host:port/database
```
MySQL/TiDB database connection string.

### Authentication
```bash
JWT_SECRET=your-secret-key-here
```
Generate with: `openssl rand -base64 32`

### OAuth (Manus Integration)
```bash
OAUTH_SERVER_URL=https://api.manus.im
VITE_APP_ID=your-app-id
VITE_OAUTH_PORTAL_URL=https://portal.manus.im
OWNER_OPEN_ID=your-owner-openid
OWNER_NAME=your-name
```

### Application
```bash
VITE_APP_TITLE=AI Guide Pro Unified System
VITE_APP_LOGO=/logo.svg
NODE_ENV=production
```

## Optional Variables

### Hugging Face Integration
```bash
HF_API_KEY=hf_xxxxxxxxxxxxx
HF_USERNAME=your-username
HF_SPACE_AGENTICSEEK=username/agenticseek
HF_SPACE_FLOWISE=username/flowise
HF_SPACE_BROWSER_USE=username/browser-use
HF_SPACE_METAGPT=username/metagpt
```

### AWS S3 (File Storage)
```bash
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name
```

### GitHub API
```bash
GH_TOKEN=ghp_xxxxxxxxxxxxx
```
Personal access token with repo access.

### Payment Processing (Optional)
```bash
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-secret
```

### Cloud Storage (Optional)
```bash
# Google Drive
GOOGLE_DRIVE_CLIENT_ID=your-client-id
GOOGLE_DRIVE_CLIENT_SECRET=your-client-secret
GOOGLE_DRIVE_REFRESH_TOKEN=your-refresh-token

# Azure Blob Storage
AZURE_STORAGE_ACCOUNT=your-account-name
AZURE_STORAGE_KEY=your-storage-key
AZURE_CONTAINER_NAME=your-container-name
```

## Netlify Configuration

Add these variables in Netlify Dashboard → Site settings → Environment variables:

1. All required variables listed above
2. Optional variables based on features you want to enable
3. Build-specific variables (automatically set by Netlify):
   - `NODE_VERSION=22`
   - `PNPM_VERSION=9`

## GitHub Actions Secrets

Add these secrets in GitHub repo → Settings → Secrets and variables → Actions:

- `DATABASE_URL`
- `JWT_SECRET`
- `NETLIFY_AUTH_TOKEN` - From Netlify user settings
- `NETLIFY_SITE_ID` - From Netlify site settings
- `HF_API_KEY` - Hugging Face API token
- `GH_TOKEN` - GitHub personal access token
- `AWS_ACCESS_KEY_ID`
- `AWS_SECRET_ACCESS_KEY`
- `AWS_REGION`
- `AWS_S3_BUCKET`

## Local Development

Create a `.env` file in the project root:

```bash
# Copy from .env.example
cp .env.example .env

# Edit with your values
nano .env
```

Example `.env` for local development:

```bash
# Database
DATABASE_URL=mysql://root:password@localhost:3306/aiguidepro

# Auth
JWT_SECRET=dev-secret-key-change-in-production

# OAuth
OAUTH_SERVER_URL=https://api.manus.im
VITE_APP_ID=dev-app-id

# App
VITE_APP_TITLE=AI Guide Pro (Dev)
NODE_ENV=development

# Optional: Add others as needed
HF_API_KEY=your-key-here
```

## Validation

Test your environment configuration:

```bash
# Check TypeScript compilation
pnpm check

# Test build
pnpm build

# Run tests
pnpm test
```

## Security Notes

1. **Never commit** `.env` files to version control
2. **Rotate secrets** regularly (every 90 days recommended)
3. **Use different secrets** for development and production
4. **Enable 2FA** on all service accounts
5. **Restrict API key** permissions to minimum required
6. **Monitor usage** for unauthorized access
7. **Use environment-specific** configurations
